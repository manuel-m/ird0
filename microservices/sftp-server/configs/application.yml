# Common configuration for SFTP server

spring:
  application:
    name: sftp-server

  cloud:
    compatibility-verifier:
      enabled: false
    vault:
      enabled: ${VAULT_ENABLED:false}
      uri: ${VAULT_ADDR:http://vault:8200}
      authentication: TOKEN
      token: ${VAULT_TOKEN:${VAULT_DEV_TOKEN:dev-root-token}}
      kv:
        enabled: true
        backend: secret
        default-context: ird0
      connection-timeout: 5000
      read-timeout: 15000
      fail-fast: false

  main:
    keep-alive: true  # Keep application running

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized
  server:
    port: 9090  # Management port

logging:
  level:
    com.ird0.sftp: INFO
    org.apache.sshd: INFO
