PROJECT_NAME=insure

# Database configuration
# PostgreSQL credentials and connection details
POSTGRES_USER=directory_user
POSTGRES_PASSWORD=change_this_secure_password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Vault configuration
# HashiCorp Vault for secrets management
VAULT_ENABLED=true
VAULT_ADDR=http://vault:8200
VAULT_DEV_TOKEN=dev-root-token


# Service hostnames for Docker DNS (used as network aliases)
# The actual service names in docker-compose.yml have a -svc suffix (e.g., policyholders-svc)
# but are aliased to these names for inter-service communication and backward compatibility
POLICYHOLDERS_SERVICE_HOST=policyholders
EXPERTS_SERVICE_HOST=experts
PROVIDERS_SERVICE_HOST=providers
INSURERS_SERVICE_HOST=insurers
INCIDENT_SERVICE_HOST=incident-service
NOTIFICATION_SERVICE_HOST=notification-service
SFTP_SERVICE_HOST=sftp-server
PORTAL_BFF_SERVICE_HOST=bff

# Service internal port (uniform for all Spring Boot services)
# All services run on this port internally in Docker containers
SERVICE_INTERNAL_PORT=8080

# Service host ports (external access)
# These ports are mapped from the host to the internal port
POLICYHOLDERS_HOST_PORT=8081
EXPERTS_HOST_PORT=8082
PROVIDERS_HOST_PORT=8083
INSURERS_HOST_PORT=8084
INCIDENT_HOST_PORT=8085
NOTIFICATION_HOST_PORT=8086
SFTP_HOST_PORT=2222
SFTP_ACTUATOR_HOST_PORT=9090
PORTAL_BFF_HOST_PORT=7777

# SFTP configuration
# Settings for the SFTP server and client connections
SFTP_HOST=sftp-server
SFTP_PORT=2222
SFTP_USERNAME=policyholder-importer
SFTP_DATA_DIR=/app/data
SFTP_HOST_KEY_PATH=/app/keys/hostkey.pem

# Directory service - SFTP import paths (Docker)
# Paths used by the policyholders service for SFTP file imports
DIRECTORY_SFTP_IMPORT_LOCAL_DIRECTORY=/app/temp/sftp-downloads
DIRECTORY_SFTP_IMPORT_METADATA_DIRECTORY=/app/data/sftp-metadata
DIRECTORY_SFTP_IMPORT_ERROR_DIRECTORY=/app/data/sftp-errors
DIRECTORY_SFTP_IMPORT_DEAD_LETTER_DIRECTORY=/app/data/sftp-failed

# Keycloak configuration
# Identity and Access Management
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=changme
KEYCLOAK_HOST_PORT=8180

# Development mode: Creates test users (viewer/manager/admin) on startup
# Set to 'false' for production deployments
KEYCLOAK_DEV_MODE=true

# BFF client secret for service-to-service authentication
# This MUST match the secret in keycloak/realm-export.json
# For production: Generate a strong secret and update both:
#   1. Set this env var: openssl rand -base64 32
#   2. Update via Keycloak Admin Console > Clients > ird0-portal-bff > Credentials
KEYCLOAK_CLIENT_SECRET=dev-bff-secret-change-in-production

# Portal Frontend configuration
# Angular SPA served via nginx
PORTAL_FRONTEND_HOST_PORT=4200
PORTAL_FRONTEND_SERVICE_HOST=portal

# SonarQube configuration (on-demand service)
# SonarQube is not started automatically - use 'make sonar-start' to launch
# Note: Uses significant resources (2 CPUs, 2GB RAM)
SONAR_PROJECT=ird0-insurance-platform
SONAR_HOST=localhost
SONAR_PORT=9000
SONAR_TOKEN=change-me-with-your-token
